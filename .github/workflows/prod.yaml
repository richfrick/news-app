name: Deploy to Production
run-name: ${{ github.actor }} is deploying to Production ðŸš€
on:
    push:
        branches:
            - main
jobs:
    deploy:
        name: Deploy
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repo
              uses: actions/checkout@v3

            - name: Check if SERVICE ID exists exists
              run: echo "SERVICE ID is set"
              env:
                  MY_SECRET: ${{ secrets.RENDER_SERVICE_ID }}

            - name: Check if API KEY exists exists
              run: echo "API KEY is set"
              env:
                  MY_SECRET: ${{ secrets.RENDER_API_KEY }}

            - name: Deploy to prod
              uses: johnbeynon/render-deploy-action@v0.0.8
              with:
                  service-id: ${{ secrets.RENDER_SERVICE_ID }}
                  api-key: ${{ secrets.RENDER_API_KEY }}
